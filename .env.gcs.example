# =============================================================================
# de_template: Google Cloud Storage (GCS) Configuration Example
# =============================================================================
# GCS via S3-compatibility API using HMAC keys.
# Prefer Workload Identity (GKE) or ADC over HMAC keys for production.
# See docs/06_secrets_and_auth.md for GCS authentication patterns.
# =============================================================================

BROKER=kafka
CATALOG=hadoop
STORAGE=gcs              # <-- use this; no storage.minio.yml overlay is loaded
MODE=batch

TOPIC=taxi.raw_trips
DLQ_TOPIC=taxi.raw_trips.dlq
DLQ_MAX=0

DATA_PATH=/data/yellow_tripdata_2024-01.parquet
MAX_EVENTS=0

# GCS S3-compatibility endpoint
WAREHOUSE=s3a://YOUR-BUCKET/warehouse/
S3_ENDPOINT=https://storage.googleapis.com
S3_USE_SSL=true
S3_PATH_STYLE=false

DUCKDB_S3_ENDPOINT=storage.googleapis.com
DUCKDB_S3_USE_SSL=true

# GCS HMAC keys (Cloud Console → Storage → Settings → Interoperability)
# For GKE + Workload Identity: leave blank; configure k8s service account binding
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=auto

PROJECT=de_pipeline
